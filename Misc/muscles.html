<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>肌肉與動作互動圖解</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --highlight-color: #e74c3c;
            --bg-color: #f4f7f6;
            --text-color: #333;
            --card-bg: #ffffff;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            width: 100%;
            padding: 1rem 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; font-size: 1.5rem; }
        p.subtitle { margin: 5px 0 0; font-size: 0.9rem; opacity: 0.8; }

        .container {
            max-width: 1000px;
            width: 95%;
            margin: 20px auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* Controls Section */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 10px;
        }

        .tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: none;
            font-size: 1rem;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: var(--accent-color);
            border-bottom: 3px solid var(--accent-color);
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }

        .action-btn {
            background-color: white;
            border: 1px solid #ddd;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
            color: var(--primary-color);
        }

        .action-btn:hover {
            background-color: #f0f8ff;
            border-color: var(--accent-color);
        }

        .action-btn.selected {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        .info-panel {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            border-radius: 4px;
            min-height: 100px;
        }

        .info-title { font-weight: bold; font-size: 1.1rem; margin-bottom: 5px; color: var(--primary-color); }
        .info-desc { font-size: 0.95rem; line-height: 1.5; }

        /* Visual Section */
        .visual-display {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            position: relative;
            min-height: 400px;
        }

        svg {
            height: 100%;
            max-height: 400px;
            width: auto;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1));
        }

        /* SVG Styles */
        .body-outline {
            fill: #ecf0f1;
            stroke: #bdc3c7;
            stroke-width: 2;
        }

        .muscle {
            fill: #bdc3c7; /* Inactive color */
            opacity: 0.3;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .muscle.active {
            fill: var(--highlight-color);
            opacity: 0.9;
            filter: drop-shadow(0 0 5px rgba(231, 76, 60, 0.6));
            animation: pulse 1.5s infinite;
        }

        .label-line {
            stroke: var(--primary-color);
            stroke-width: 1;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .label-text {
            fill: var(--primary-color);
            font-size: 14px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .label-group.visible .label-line,
        .label-group.visible .label-text {
            opacity: 1;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            .visual-display {
                min-height: 300px;
                order: -1; /* Show visual on top on mobile */
            }
        }
    </style>
</head>
<body>

<header>
    <h1>人體肌肉動力學圖解</h1>
    <p class="subtitle">點擊動作按鈕，觀察肌肉如何運作</p>
</header>

<div class="container">
    <!-- Left Side: Controls -->
    <div class="controls">
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('arm')">上肢 (手臂)</button>
            <button class="tab-btn" onclick="switchTab('leg')">下肢 (腿部)</button>
        </div>

        <!-- Arm Buttons -->
        <div id="arm-buttons" class="action-buttons">
            <button class="action-btn" onclick="activateAction('bicep_curl')">二頭肌彎舉</button>
            <button class="action-btn" onclick="activateAction('tricep_extension')">三頭肌伸展</button>
            <button class="action-btn" onclick="activateAction('shoulder_press')">肩推舉</button>
            <button class="action-btn" onclick="activateAction('wrist_curl')">手腕屈曲</button>
        </div>

        <!-- Leg Buttons (Hidden initially) -->
        <div id="leg-buttons" class="action-buttons" style="display: none;">
            <button class="action-btn" onclick="activateAction('squat')">深蹲</button>
            <button class="action-btn" onclick="activateAction('leg_curl')">腿後勾</button>
            <button class="action-btn" onclick="activateAction('calf_raise')">提踵 (踮腳)</button>
            <button class="action-btn" onclick="activateAction('leg_extension')">踢腿機伸展</button>
        </div>

        <div class="info-panel">
            <div id="info-title" class="info-title">請選擇一個動作</div>
            <div id="info-desc" class="info-desc">點擊上方的按鈕，右側圖示將顯示該動作主要訓練的目標肌肉群。</div>
        </div>
    </div>

    <!-- Right Side: Visuals -->
    <div class="visual-display">
        
        <!-- ARM SVG -->
        <svg id="arm-svg" viewBox="0 0 300 500" xmlns="http://www.w3.org/2000/svg">
            <!-- Shoulder/Body reference -->
            <path class="body-outline" d="M50,50 Q100,40 150,50 L150,150 L50,150 Z" />
            
            <!-- Upper Arm Bone/Outline -->
            <path class="body-outline" d="M130,60 Q180,60 190,150 Q180,250 140,250 Q100,250 90,150 Q100,60 130,60" />
            
            <!-- Forearm -->
            <path class="body-outline" d="M140,250 Q160,350 150,420 Q130,450 110,420 Q100,350 110,250" />
            
            <!-- Hand -->
            <circle class="body-outline" cx="130" cy="440" r="20" />

            <!-- MUSCLES -->
            <!-- Deltoid (Shoulder) -->
            <path id="m-deltoid" class="muscle" d="M110,55 Q170,45 185,110 Q140,130 95,110 Q100,60 110,55" />
            
            <!-- Biceps (Front Upper Arm) - Assuming right arm side view facing right -->
            <path id="m-biceps" class="muscle" d="M145,120 Q180,180 145,240 Q130,180 145,120" />
            
            <!-- Triceps (Back Upper Arm) -->
            <path id="m-triceps" class="muscle" d="M105,120 Q80,180 105,240 Q120,180 105,120" />
            
            <!-- Forearm Flexors (Inner/Front) -->
            <path id="m-forearm" class="muscle" d="M125,260 Q145,320 135,400 Q115,320 125,260" />

            <!-- LABELS -->
            <g id="label-deltoid" class="label-group">
                <line x1="185" y1="80" x2="240" y2="80" class="label-line" />
                <text x="245" y="85" class="label-text">三角肌 (Deltoids)</text>
            </g>
            <g id="label-biceps" class="label-group">
                <line x1="170" y1="180" x2="240" y2="180" class="label-line" />
                <text x="245" y="185" class="label-text">二頭肌 (Biceps)</text>
            </g>
            <g id="label-triceps" class="label-group">
                <line x1="90" y1="180" x2="20" y2="180" class="label-line" />
                <text x="10" y="185" class="label-text" text-anchor="end">三頭肌 (Triceps)</text>
            </g>
            <g id="label-forearm" class="label-group">
                <line x1="145" y1="330" x2="240" y2="330" class="label-line" />
                <text x="245" y="335" class="label-text">前臂肌群 (Forearm)</text>
            </g>
        </svg>

        <!-- LEG SVG (Hidden initially) -->
        <svg id="leg-svg" viewBox="0 0 300 500" xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <!-- Hip -->
            <path class="body-outline" d="M50,50 Q150,40 200,80 L180,150 L70,150 Z" />
            
            <!-- Thigh -->
            <path class="body-outline" d="M80,140 Q190,140 190,280 Q140,310 90,280 Q80,200 80,140" />
            
            <!-- Lower Leg -->
            <path class="body-outline" d="M100,280 Q160,350 150,450 Q100,450 90,350 Q90,300 100,280" />
            
            <!-- Foot -->
            <path class="body-outline" d="M90,450 L160,450 L170,480 L90,480 Z" />

            <!-- MUSCLES -->
            <!-- Glutes (Butt) -->
            <path id="m-glutes" class="muscle" d="M60,60 Q130,50 170,90 Q160,160 80,150 Z" />
            
            <!-- Quads (Front Thigh) - Facing Right -->
            <path id="m-quads" class="muscle" d="M130,150 Q185,200 170,280 Q130,250 130,150" />
            
            <!-- Hamstrings (Back Thigh) -->
            <path id="m-hamstrings" class="muscle" d="M90,150 Q75,220 100,280 Q125,220 125,150" />
            
            <!-- Calves (Back Lower Leg) -->
            <path id="m-calves" class="muscle" d="M95,290 Q80,350 100,420 Q120,350 120,290" />

            <!-- LABELS -->
            <g id="label-glutes" class="label-group">
                <line x1="60" y1="100" x2="20" y2="100" class="label-line" />
                <text x="15" y="105" class="label-text" text-anchor="end">臀大肌 (Glutes)</text>
            </g>
            <g id="label-quads" class="label-group">
                <line x1="180" y1="210" x2="240" y2="210" class="label-line" />
                <text x="245" y="215" class="label-text">股四頭肌 (Quads)</text>
            </g>
            <g id="label-hamstrings" class="label-group">
                <line x1="85" y1="210" x2="20" y2="210" class="label-line" />
                <text x="15" y="215" class="label-text" text-anchor="end">腿後腱肌群 (Hams)</text>
            </g>
            <g id="label-calves" class="label-group">
                <line x1="90" y1="360" x2="20" y2="360" class="label-line" />
                <text x="15" y="365" class="label-text" text-anchor="end">小腿肌 (Calves)</text>
            </g>
        </svg>

    </div>
</div>

<script>
    // Data Structure mapping actions to muscles and descriptions
    const exercises = {
        // ARM EXERCISES
        bicep_curl: {
            title: "二頭肌彎舉 (Bicep Curl)",
            target: ["m-biceps"],
            label: ["label-biceps"],
            desc: "這是最經典的手臂訓練。當你彎曲手肘將重量舉起時，**肱二頭肌**會收縮。它是主要負責屈肘的肌肉。"
        },
        tricep_extension: {
            title: "三頭肌伸展 (Tricep Extension)",
            target: ["m-triceps"],
            label: ["label-triceps"],
            desc: "當你伸直手臂對抗阻力時，位於手臂後側的**肱三頭肌**會強烈收縮。這對於消除「蝴蝶袖」和增加推力非常重要。"
        },
        shoulder_press: {
            title: "肩推舉 (Shoulder Press)",
            target: ["m-deltoid", "m-triceps"],
            label: ["label-deltoid"],
            desc: "將重量推過頭頂主要由**三角肌**（肩膀）負責，同時**肱三頭肌**也會輔助伸直手臂。這能建立寬闊的肩部線條。"
        },
        wrist_curl: {
            title: "手腕屈曲 (Wrist Curl)",
            target: ["m-forearm"],
            label: ["label-forearm"],
            desc: "針對**前臂肌群**的訓練。透過手腕的彎曲動作，強化握力與前臂線條。"
        },

        // LEG EXERCISES
        squat: {
            title: "深蹲 (Squat)",
            target: ["m-quads", "m-glutes"],
            label: ["label-quads", "label-glutes"],
            desc: "動作之王。深蹲是複合動作，主要刺激大腿前側的**股四頭肌**以及**臀大肌**。它能建立強壯的下肢力量。"
        },
        leg_curl: {
            title: "腿後勾 (Leg Curl)",
            target: ["m-hamstrings"],
            label: ["label-hamstrings"],
            desc: "這個動作專門針對大腿後側的**腿後腱肌群**。當你彎曲膝蓋將腳跟拉向臀部時，此肌肉群負責主要發力。"
        },
        calf_raise: {
            title: "提踵/踮腳 (Calf Raise)",
            target: ["m-calves"],
            label: ["label-calves"],
            desc: "透過踮起腳尖，主要訓練小腿後側的**腓腸肌**與比目魚肌。這對於行走、跑步和跳躍至關重要。"
        },
        leg_extension: {
            title: "踢腿機伸展 (Leg Extension)",
            target: ["m-quads"],
            label: ["label-quads"],
            desc: "這是一個單關節動作，專門孤立訓練大腿前側的**股四頭肌**。當你坐著將膝蓋伸直時，股四頭肌會強烈收縮。"
        }
    };

    let currentTab = 'arm';

    function switchTab(tab) {
        currentTab = tab;
        
        // Reset UI
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');

        // Toggle Button Groups
        document.getElementById('arm-buttons').style.display = tab === 'arm' ? 'grid' : 'none';
        document.getElementById('leg-buttons').style.display = tab === 'leg' ? 'grid' : 'none';

        // Toggle SVG
        document.getElementById('arm-svg').style.display = tab === 'arm' ? 'block' : 'none';
        document.getElementById('leg-svg').style.display = tab === 'leg' ? 'block' : 'none';

        // Reset Info and Highlights
        resetHighlights();
        document.getElementById('info-title').innerText = "請選擇一個動作";
        document.getElementById('info-desc').innerText = "點擊上方的按鈕，右側圖示將顯示該動作主要訓練的目標肌肉群。";
        
        // Remove selected state from buttons
        document.querySelectorAll('.action-btn').forEach(btn => btn.classList.remove('selected'));
    }

    function activateAction(actionKey) {
        // 1. Highlight Button
        document.querySelectorAll('.action-btn').forEach(btn => btn.classList.remove('selected'));
        // Find the button that triggered this (simple way matching text content logic or event delegation, 
        // but here we just rely on the user click visual feedback, let's force highlight the clicked button)
        const buttons = document.querySelectorAll('.action-btn');
        for(let btn of buttons) {
            if(btn.getAttribute('onclick').includes(actionKey)) {
                btn.classList.add('selected');
            }
        }

        // 2. Get Data
        const data = exercises[actionKey];
        if (!data) return;

        // 3. Update Info Panel
        const titleEl = document.getElementById('info-title');
        const descEl = document.getElementById('info-desc');
        
        // Simple fade effect for text
        titleEl.style.opacity = 0;
        descEl.style.opacity = 0;
        
        setTimeout(() => {
            titleEl.innerText = data.title;
            // Bold formatting for markdown-style text in description
            descEl.innerHTML = data.desc.replace(/\*\*(.*?)\*\*/g, '<strong style="color:var(--highlight-color)">$1</strong>');
            titleEl.style.opacity = 1;
            descEl.style.opacity = 1;
        }, 200);

        // 4. Update Visuals (SVG)
        resetHighlights();

        // Highlight specific muscles
        data.target.forEach(muscleId => {
            const el = document.getElementById(muscleId);
            if (el) el.classList.add('active');
        });

        // Show Labels
        if (data.label) {
            data.label.forEach(labelId => {
                const el = document.getElementById(labelId);
                if (el) el.classList.add('visible');
            });
        }
    }

    function resetHighlights() {
        // Remove active class from all muscles
        document.querySelectorAll('.muscle').forEach(el => el.classList.remove('active'));
        // Hide all labels
        document.querySelectorAll('.label-group').forEach(el => el.classList.remove('visible'));
    }
</script>

</body>
</html>