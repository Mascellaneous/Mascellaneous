<!DOCTYPE html>
<html>
<head>
    <!-- Load the auth logic -->
    <script src="https://mas-repo.github.io/econ-database/js/auth.js"></script>
</head>
<body>
    <script>
        // Initialize Auth
        const auth = new AuthManager();
        
        // Check status
        const isAuth = auth.isAuthenticated();
        
        // Prepare data to send back
        const response = {
            status: isAuth ? 'authorized' : 'denied',
            user: isAuth ? {
                username: auth.currentUser,
                displayName: auth.displayName,
                group: auth.userGroup
            } : null
        };

        // Send the data to the parent window (AnotherWebsite.html)
        // NOTE: In production, replace '*' with 'https://your-other-website.com' for security
        window.parent.postMessage(JSON.stringify(response), '*');
    </script>
</body>
</html>